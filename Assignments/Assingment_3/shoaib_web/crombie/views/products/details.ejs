<div class="product-details-container">
    <div class="product-image-section">
        <img src="<%= product.imageUrl %>" alt="<%= product.name %>" class="product-main-image">
    </div>

    <div class="product-info-section">
        <h1><%= product.name %></h1>
        <p class="product-category"><%= product.category %></p>
        <p class="product-description"><%= product.description %></p>
        <p class="product-price">Â£<%= product.price.toFixed(2) %></p>

        <% if (user) { %>
            <form action="/cart/add/<%= product._id %>" method="POST" class="add-to-cart-form">
                <div class="quantity-selector">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="10">
                </div>
                <button type="submit" class="btn-primary">Add to Cart</button>
            </form>
        <% } else { %>
            <a href="/auth/login" class="btn-secondary">Login to Buy</a>
        <% } %>

        <div class="product-meta">
            <p><strong>Availability:</strong> <%= product.inStock ? 'In Stock' : 'Out of Stock' %></p>
            <p><strong>Category:</strong> <%= product.category %></p>
        </div>

        <a href="/products" class="btn-secondary">Back to Products</a>
    </div>
</div>

<style>
.product-details-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 1rem;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.product-image-section {
    background: #fff;
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.product-main-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 4px;
}

.product-info-section {
    background: #fff;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.product-category {
    color: #666;
    text-transform: uppercase;
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.product-description {
    color: #333;
    line-height: 1.6;
    margin: 1rem 0;
}

.product-price {
    font-size: 2rem;
    font-weight: bold;
    color: #007bff;
    margin: 1rem 0;
}

.quantity-selector {
    margin: 1rem 0;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.quantity-selector input {
    width: 80px;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.product-meta {
    margin: 2rem 0;
    padding: 1rem 0;
    border-top: 1px solid #eee;
    border-bottom: 1px solid #eee;
}

.product-meta p {
    margin: 0.5rem 0;
}

@media (max-width: 768px) {
    .product-details-container {
        grid-template-columns: 1fr;
    }
}
</style> 